<div class="view-project-container">
    <!-- Dashboard Header -->
    <div class="dashboard-header">
        <div class="header-left">
            <img
                class="dashboard-icon"
                src="/assets/icons/chart-bar.svg"
                alt="Dashboard Icon"
            />
            <span class="dashboard-title">Project Tracking Dashboard</span>
        </div>
        <div class="header-controls">
            <mat-form-field class="f2-select project-select">
                <mat-select
                    [(value)]="selectedProjectId"
                    (selectionChange)="onProjectChange($event.value)"
                    placeholder="Project Name"
                >
                    @for (project of projectOptions(); track project.projectId) {
                        <mat-option [value]="project.projectId">{{ project.projectName }}</mat-option>
                    }
                </mat-select>
            </mat-form-field>
            <mat-form-field class="f2-select month-select">
                <mat-select
                    [(value)]="selectedMonthOption"
                    (selectionChange)="onMonthOptionChange($event.value)"
                >
                    <mat-option value="previous">Previous month</mat-option>
                    <mat-option value="current">Current month</mat-option>
                    <mat-option value="next">Next month</mat-option>
                </mat-select>
            </mat-form-field>
            <mat-form-field class="f2-datepicker">
                <mat-date-range-input
                    [formGroup]="range"
                    [rangePicker]="rangePicker"
                >
                    <input
                        matStartDate
                        formControlName="start"
                        placeholder="Start date"
                    />
                    <input
                        matEndDate
                        formControlName="end"
                        placeholder="End date"
                    />
                </mat-date-range-input>
                <mat-datepicker-toggle
                    matSuffix
                    [for]="rangePicker"
                >
                    <mat-icon matDatepickerToggleIcon>keyboard_arrow_down</mat-icon>
                </mat-datepicker-toggle>
                <mat-date-range-picker
                    #rangePicker
                    (closed)="onDateRangeChange()"
                />
            </mat-form-field>
            <button
                class="f2-button f2-submit export-button"
                (click)="exportReport()"
            >
                Export Report
            </button>
        </div>
    </div>

    <!-- IGA Reports Component -->
    <app-iga-reports />
</div>
